# Stochastic Calculus. 
A sample space $\Omega$ is a nonempty set of all possible outcomes of a random experiment. 
It can be discrete or continuous. 
A subset the sample space $A\subseteq \Omega$ is called an event. 

Let $\mathcal{F}$ be a collection of subsets of the sample space. 
$\mathcal{F}$ is defined as a $\sigma$-algebra if it satisfies
1. $A \in \mathcal{F} \Rightarrow A^C \in \mathcal{F}$. 
2. $\forall A_1, A_2, ... \in \mathcal{F} \Rightarrow \cup_{i=1}^\infty A_i \in \mathcal{F}$.
3. $\emptyset \in \mathcal{F}$ (hence $\Omega \in \mathcal{F}$ since $\emptyset^C=\Omega$). 

A $\sigma$-algebra is used to represent a set of events in probability theory. For $\sigma$-algebra $\mathcal{F}$ the following can be demonstrated $\forall A,B \in \mathcal{F} \Rightarrow A \cap B$ and $A \backslash B \in \mathcal{F}$. 

A probability measure $P$ is a function that satisfies
1. $P(A) \in [0,1], \forall A \in \mathcal{F}$. 
2. $P(\Omega)=1$. 
3. $P(\cup_{i=1}^\infty A_i)=\sum_{i=1}P(A_i)$, for disjoint sets $A_i \in \mathcal{F}, i=1,2,...$. 

A probability space is defined as a triplet $(\Omega, \mathcal{F}, P)$. 
Let $B$ be an interval in $\mathbb{R}$ and $(\Omega, \mathcal{F}, P)$ a probability space. 
A random variable is a function $X(\omega) : \Omega \rightarrow \mathbb{R}$, often notationally simplified as $X$, such that $\{ X(\omega) \in B \} \in \mathcal{F}$
The distribution of a random variable is the set of numerical outcomes and their probabilities. 





## Stochastic Process. 
A stochastic process is a parameterized collection of random variables $\{X_t\}_{t\in T}$ defined on a probability space $(\Omega, \mathcal{F}, P)$ and assuming values in $\mathbb{R}^n$. 
When there is no randomness, $\{ X_t \}$ is called a deterministic process. 
The state space of a stochastic process is defined as the set of all possible values that the random variables $X_t$ can assume. 


Given a probability space $(\Omega, \mathcal{F}, P)$, a filtration $\mathcal{F}_t$ is an increasing and right-continuous collection of $\sigma$-algebras of $\mathcal{F}$, such that for $s,t$ in a totally ordered set $T$
\begin{equation}
\mathcal{F}_s \subseteq \mathcal{F}_t, \qquad s<t
\end{equation}
\begin{equation}
\mathcal{F}_t = \cap_{s>t}\mathcal{F}_s
\end{equation}



A stochastic process $X$ is said to be adapted to the filtration if, for every $t\in T$, $X_t$ is $\mathcal{F}_t$-measurable. 
Given a stochastic process $X$ the natural filtration for this process is the filtration where $\mathcal{F}_t$ is generated by all values of $X_s$ up to $s=t$. 
A stochastic process is always adapted to its natural filtration. 


## Finite Dimensional Distribution. 
For a finite set of integers $T={t_1, ..., t_n}$ the joint distribution function of $X={X_i (\omega); i\in T}$ is defined by 
\begin{equation}
F_{t_1 , ..., t_n}(x_{t_1}, ..., x_{t_n}) = P(X_{t_1}(\omega) \leq x_{t_1}, ..., X_{t_n}(\omega) \leq x_{t_n})
\end{equation}
which for a stochastic process $X$ is commonly denoted as 
\begin{equation}
F_X(x_{t_1}, ..., x_{t_n})
\end{equation}
The finite dimensional distribution of a stochastic process is then defined to be the set of all such joint distribution functions for all such finite integer sets $T$ of any size $n$. For a discrete process the finite dimensional distribution is thus the set
\begin{equation}
\{ F_X(x_{t_1}, ..., x_{t_n}); n\in \mathbb{Z}^+, T\subset \mathbb{Z} \}
\end{equation}


## Conditional Expectation. 
The conditional expectation of a random variable $X$ given event $B$ is defined as 
\begin{equation}
\mathbb{E}[X | B] = \dfrac{1}{P(B)} \int_B X(\omega) d P(\omega)
\end{equation}


## Martingale. 
Given a probability space $(\Omega, \mathcal{F}, P)$ with the filtration $\mathcal{F}_t$. An $\mathcal{F}_t$-adapted stochastic process $M_t$ is a martingale if $\mathbb{E}[M_t | \mathcal{F}_s]=M_s$ for $0 \leq s \leq t$. $M_t$ is supermartingale if $\mathbb{E}[M_t | \mathcal{F}_s] \leq M_s$ and submartingale if $\mathbb{E}[M_t | \mathcal{F}_s] \geq M_s$. The expected value of a martingale $M_t$ is its initial value $\mathbb{E}[M_t] = M_0$. 


## Markov Property. 
The Markov property ensures the memorylessness of a stochastic process. 
A $\mathcal{F}_t$-measurable stochastic process $X_t$ is a Markov process if, for any function $f$ and $\forall t > s$, 
\begin{equation}
\mathbb{E}[f(X_t) | \mathcal{F}_s] = \mathbb{E}[f(X_t) | X_s] = \phi(s, X_s)
\end{equation}


## Quadratic Variation. 
The quadratic variation of $X_t$ is, if it exists, defined as
\begin{equation}
\langle X,X \rangle_t = \lim_{\| P \| \rightarrow 0} \sum_i (X_{s_{i+1}}-X_{s_i})^2
\end{equation}
where $P=\{s_0, s_1, ..., s_n\}$ represents a partition of the interval $[0,t]$ and $\| P \|$ is the maximum step size. 


## Brownian Motion. 
A continous process $W_t(\omega)$ is said to be a standard Brownian Motion if it satisfies 
1. $W_0(\omega)=0$, $\forall \omega$.
2. $\forall \omega$, the map $t \mapsto W_t(\omega)$ is a continuous function for $t \geq 0$. 
3. $W_t$ has independent increments. 
4. $W_t$ has stationary increments and for $0 \leq s < t$ every increment $W_t(\omega)-W_s(\omega) \sim N(0, t-s)$. 


Lévy's theorem statets that if $M_t$ is a continuous martingale to its natural filtration $\mathcal{F}_t$, $M_t=0$, and $\langle X,X \rangle_t = t$, then $M_t$ is a Brownian motion. 




## Itô Integral. 
Let $P= \{ t_0, t_1, ...,t_n \}$ be partition of the interval $[0,T]$, $f_t$ be an $\mathcal{F}_t$-adapted process and $\mathbb{E}[\int_0^T f_t^2 dt]<+\infty$, the Itô integral is defined as 
\begin{equation}
\int_0^T f_t d W_t = \lim_{\| P \| \rightarrow 0} \sum_{i=0}^{n-1} f_{t_i}(W_{t_{i+1}}-W_{t_i})
\end{equation}
It is assumed that the value of $f_t$ is known at the beginning of the sub interval. 
In financial applications this is a crucial property. The integral can represent the cumulative trading P/L where $f_t$ acts as a betting size and is determined by the trading strategy before each time period. 
The integral $I_t = \int_0^T f_t d W_t$ has the following properties
1. $I_t$ is an $\mathcal{F}_t$-martingale. 
2. $\mathbb{E}[I_t^2] = \mathbb{E}[\int_0^t f_s^2 ds] $ (Itô-isometry).
3. $\langle I,I \rangle_t = \int_0^t f_s^2 ds$ (Quadratic variation).


## Itô Calculus. 
The stochastic process $X_t$ is an Itô process if it follows 
\begin{equation}
X_t = X_0 + \int_0^t \theta_s ds + \int_0^t \phi_s d W_s
\end{equation}
where $W_s$ is an $\mathcal{F}_t$-Brownian motion and $\theta_s$ and $\phi_s$ are $\mathcal{F}_t$-adapted processes. The differential form of an Itô process is $d X_t = \theta_t dt + \phi_t d W_t$, where $\theta_t$ is the drift of $X_t$. If the drift is 0, $X_t$ is martingale. 




Let $f(t,x)$ be a function for which $\dfrac{\partial f}{\partial t}(x,t)$, $\dfrac{\partial f}{\partial x}(x,t)$, and $\dfrac{\partial^2 f}{\partial x^2}(x,t)$ are defined and continuous. Then, for $T>0$, the Itô-Doeblin formula is defined as 
\begin{equation}
    {\begin{cases}
        f(T, X_T) = f(0, X_0) + \int_0^T \dfrac{\partial f}{\partial t} dt + \int_0^T \dfrac{\partial f}{\partial x} dX_t + \dfrac{1}{2} \int_0^T \dfrac{\partial^2 f}{\partial x^2} d \langle X,X \rangle_t  \\
        f(T, X_T) = f(0, X_0) + \int_0^T \dfrac{\partial f}{\partial t} dt + \int_0^T \dfrac{\partial f}{\partial x} \theta_t dt + \int_0^T \dfrac{\partial f}{\partial x} \phi_t dW_t + \dfrac{1}{2} \int_0^T \dfrac{\partial^2 f}{\partial x^2} \phi^2_t dt \\
    \end{cases} }
\end{equation}
The differential from of the Itô-Doeblin formula is defined as either of the following equations 
\begin{equation}
    {\begin{cases}
        df(t, X_t) = \dfrac{\partial f}{\partial t} dt + \dfrac{\partial f}{\partial x} dX_t + \dfrac{1}{2} \dfrac{\partial^2 f}{\partial x^2} d \langle X,X \rangle_t  \\
        df(t, X_t) = \dfrac{\partial f}{\partial t} dt + \dfrac{\partial f}{\partial x} \theta_t dt + \dfrac{\partial f}{\partial x} \phi_t dW_t + \dfrac{1}{2} \dfrac{\partial^2 f}{\partial x^2} \phi^2_t dt \\
    \end{cases} }
\end{equation}



## Poisson Process. 
The Poisson process $N_t$ is a right continuous process which counts the number of events up to and including $t$, defined as 
\begin{equation}
N_t = \sum_{n \geq 1} 1_{\{ t \geq T_n \}}
\end{equation}



## Change of Probability. 
Let $(\Omega, \mathcal{F}, P)$ be a probability space, and assume $P$ is finite, i.e., that $P(X)<\infty$. 
Assume that there exists a measure $\widetilde{P}$ on $(\Omega, \mathcal{F})$ such that $\widetilde{P} \ll P$ on $\mathcal{F}$. 
The Radon-Nikodym theorem states that there exists a nonnegative function $f : X \rightarrow \mathbb{R}$ such that $f$ is $\mathcal{F}$-measurable and 
\begin{equation}
\widetilde{P}(A) = \int_A f(x) d P(x)
\end{equation}
for all $A\in \mathcal{F}$. It also follows that $\int_x f(x) d P(x) < \infty$. 




## Predictable Martingale Representation. 
Let $W_t$ be a Brownian with $\mathcal{F}_t$ as its natural filtration and $X_t$ be and $\mathcal{F}_t$-measurable continuous martingale, then, there is a unique predictable process $\zeta_s$, such that 
\begin{equation}
X_t = X_0 + \int_0^t \zeta_s dW_s
\end{equation}




## Stochastic Differential Equations. 
Consider the Itô following process 
\begin{equation}
d X_t = b(t, X_t)dt + \phi(t, X_t)d W_t
\end{equation}
where $b(t,x)$ is the drift coefficient and $\phi(t,x)$ is the diffusion coefficient. This is an example of a stochastic differential equation (SDE). 
The solution of the SDE is a stochastic process $X_T$, $T>t$, such that 
\begin{equation}
X_t = x
\end{equation}
\begin{equation}
X_T = X_t + \int_t^T b(s, X_s) ds + \int_t^T \phi(s, X_s)d W_s
\end{equation}



Let $b, \phi$ be continuous functions such that there exists a $K<+\infty$, and 
1. $|b(t,x)-b(t,y)| + |\phi(t,x)-\phi(t,y)| \leq K |x-y|$
2. $|b(t,x)| + |\phi(t,x)| \leq K |1+x|$
$\forall t < T$. Then the SDE admits a unique solution. 


The arithmetic Brownian motion is a SDE used in the Bachelier stock price model on the form
\begin{equation}
d S_t = \mu dt + \sigma dW_t
\end{equation}
which gives normally distributed $S_t=x+\mu(T-t)+\sigma(W_T-W_t)$ with $S_t=x$. 


The geometric Brownian motion is defined as a stochastic process $S_t$ satisfying the following stochastic differential equation 
\begin{equation}
d S_t = \mu S_tdt + \sigma S_t dW_t
\end{equation}
where $\mu$ and $\sigma > 0$ are constants that represent drift and volatility respectively. 


The Ornstein-Ulhenbeck process is the unique solution of 
\begin{equation}
d X_t = -c X_t dt + \sigma d W_t
\end{equation}
where $X_0=x$. Let $Y_t = X_t e^{ct}$, and applying the Itô product rule gives $d Y_t = \sigma e^{ct} d W_t$. Hence
\begin{equation}
X_t = xe^{-ct} + \sigma e^{-ct} \int_0^t e^{cs} d W_s
\end{equation}
which is a Gaussian process with mean $\mathbb{E}[X_t]=xe^{-ct}$ and $Var(X_t)=\sigma^2 \dfrac{1-e^{-2ct}}{2c}$. 



SDE solutions obey the Markov property. Let $X_u$, $u \geq 0$ be a solution to the SDE with initial condition given at time 0. Then for any function $h$
\begin{equation}
\mathbb{E}[h(X_t) | \mathcal{F}_t] = \mathbb{E}_t^{X_t}[h(X_t)]
\end{equation}
where $\mathbb{E}_t^{X_t}$ denotes an expectation evaluated with initial value $X_t$ at time $t$. 
